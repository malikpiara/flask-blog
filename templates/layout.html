<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles.css') }}">
    <link rel="shortcut icon" href="{{ url_for('static', filename='moon.ico') }}">    
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700;800;900&family=Source+Serif+Pro:wght@400;600;700;900&display=swap" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <title>{{ title + " | "}} Malik Piara</title>
</head>
<body>

  <header>
    <div class="container">
        <img class="profile-photo" alt="profile picture" src="https://en.gravatar.com/userimage/197961269/b479e947d5be9a9106fcc9855bc6c5b6?size=200">
        <h1 class="site-title">
            <a href="/" title="Malik Piara">ðŸŒ™&nbsp;Malik's Blog</a>
        </h1>
        <ul id="navigation">
            <li><a href="{{ url_for('index') }}">Articles</a></li>
            <li><a href="{{ url_for('about') }}">About me</a></li>
            <li><a href="{{ url_for('projects') }}">Projects</a></li>
            <li><a href="{{ url_for('contact') }}">Get in touch</a></li>
            <li><a id="theme_toggler" href="#">Dark mode</a></li>
        </ul>
    </div>
</header>

{% block body %}
{% endblock %}

<footer>Built and designed by Malik Piara.</footer>

<script>

jQuery(function($) {
var path = window.location.href;
// because the 'href' property of the DOM element is the absolute path
$('ul a').each(function() {
if (this.href === path) {
$(this).addClass('active');
}
});
});

// dark theme toggle

let theme_toggler = document.querySelector('#theme_toggler');

theme_toggler.addEventListener('click', function() {
document.body.classList.toggle("dark-mode");
if(document.body.classList.contains('dark-mode')) {
    localStorage.setItem('website_theme','dark-mode');
} else {
    localStorage.setItem('website_theme','default');
}
});

function retrieve_theme() {
var theme = localStorage.getItem('website_theme');
if(theme != null) {
document.body.classList.remove('default', 'dark-mode');
document.body.classList.add(theme);
}
}
retrieve_theme();

window.addEventListener("storage",function() {
retrieve_theme();
},false);

</script>

</body>
</html>